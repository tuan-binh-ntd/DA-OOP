<div class="container-fluid">
  <div class="row mt-4">
    <div class="col col-6">
      <h2>Tasks</h2>
    </div>
    <div class="col col-6">
      <button 
      class="button-create float-right" 
      data-toggle="modal" 
      data-target="#createTaskModal"
      (click)="modalTask.openModal(null, 'create');this.isShowModal = true">
      <i class="fa fa-plus"></i>
        Create Task
      </button>
    </div>
  </div>

  <table id="sortTable" class="table table-striped table-bordered" cellspacing="0" style="width:100%">
    <thead>
      <tr>
        <th>Task name</th>
        <th>Creator</th>
        <th>Employee</th>
        <th>Project</th>
        <th>Project ID</th>
        <th>Deadline date</th>
        <th>Complete date</th>
        <th>Priority</th>
        <th>Status</th>
        <th>Task type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let task of tasks">
        <td>{{ task.taskName }}</td>
        <td>{{ getUserName(task.createUserId) }}</td>
        <td>{{ getUserName(task.appUserId) }}</td>
        <td>{{ getProjectName(task.projectId) }}</td>
        <td>{{ task.createDate | date: "dd/MM/yyyy" }}</td>
        <td>{{ task.deadlineDate | date: "dd/MM/yyyy" }}</td>
        <td>{{ task.completeDate | date: "dd/MM/yyyy" }}</td>
        <td>{{ getPriority(task.priorityCode) }}</td>
        <td>{{ getStatus(task.statusCode) }}</td>
        <td>{{ task.taskType }}</td>
        <td>{{ task.description }}</td>
        <td>
          <div class="row">
            <button class="button-create" (click)="openDetailModal(task, 'detail')">
              <i class="fa fa-edit"></i>
              Update</button>
            <button class="button-create" style="borderColor: red">
              <i class="fa fa-trash"></i>
              Delete
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  <script>
    $('#sortTable').DataTable();
    </script>
</div>


<div class="modal fade" id="createTaskModal" [hidden]="!isShowModal" tabindex="-1" role="dialog"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <app-modal-task #modalTask [projects]="projects" (onChangeTask)="onChangeTask()"></app-modal-task>
  </div>
</div>