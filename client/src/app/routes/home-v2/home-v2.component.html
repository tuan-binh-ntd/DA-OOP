<div class="container-fluid" style="position: relative; overflow-x: clip;">
  <div class="row">
    <div class="col col-7">
      <img width="100%" src="assets/visualize-and-plan.gif" alt="" />
      <!-- <ngx-charts-advanced-pie-chart [results]="pieData">

      </ngx-charts-advanced-pie-chart> -->
    </div>
    <div class="col col-5">
      <div class="row">
        <div class="col col-6">
          <mat-card>
            <div class="row no-gutters">
              <div class="col col-4">
                <div class="home__detail-icon blue">
                  <i class="fa fa-user" aria-hidden="true"></i>
                </div>
              </div>
              <div class="col col-8">
                <h6 class="p-text">Hi</h6>
                <h3 class="mb-2 fsz-25">
                  {{ user.userName }}
                </h3>
              </div>
            </div>

            <mat-card-content>
              <mat-divider class="mt-2 mb-2" inset></mat-divider>
              <div
                class="mt-3 d-flex"
                *ngIf="user.permissionCode === 2"
              >
                <h6 class="text-primary mr-3 fw-700">Leader Of: </h6>
                <app-department-icon
                  [departmentName]="getDepartmentName()"
                ></app-department-icon>
              </div>
              <div
                class="mt-3 d-flex"
                *ngIf="user.permissionCode === 3"
              >
                <h6 class="text-primary mr-3 fw-700">Employee Of: </h6>
                <app-department-icon
                  [departmentName]="getDepartmentName()"
                ></app-department-icon>
              </div>
              <div
                class="mt-3 d-flex"
                *ngIf="user.permissionCode === 1"
              >
                <h6 class="text-primary mr-3 fw-700">Project Manager</h6>
                <app-department-icon
                  [departmentName]="getDepartmentName()"
                ></app-department-icon>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
        <div class="col col-6">
          <mat-card>
            <div class="row no-gutters">
              <div class="col col-4">
                <div class="home__detail-icon purple">
                  <i class="fa fa-bookmark" aria-hidden="true"></i>
                </div>
              </div>
              <div class="col col-8">
                <h6 class="p-text">My Projects</h6>
                <h3 class="mb-2 fsz-25">
                  {{ totalProjects }}
                </h3>
              </div>
            </div>
            <mat-card-content>
              <mat-divider class="mt-3 mb-2" inset></mat-divider>
              <div class=" d-flex" >
                <h6 class="text-primary mr-3 fw-700 d-inline-block">This month:</h6>
               <h6>{{totalThisMonthProjects}}</h6>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <table id="example" class="table table-hover mt-4" style="width: 100%">
        <thead>
          <tr>
            <th class="text-center align-middle" style="width: 5%">Type</th>

            <th class="text-left" style="width: auto">Task Name</th>
            <th class="align-middle text-center" style="width: 5%">Priority</th>
            <th class="align-middle text-center" style="width: 30%">
              Deadline
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let task of tasks | slice: 0:8">
            <td class="text-center align-middle" style="width: 5%">
              <app-task-type-icon
                [taskType]="task.taskType"
              ></app-task-type-icon>
            </td>
            <td class="align-middle" style="width: auto">
              {{ task.taskName }}
            </td>
            <td class="text-center align-middle" style="width: 5%">
              <app-priority-icon
                [priorityCode]="task.priorityCode"
              ></app-priority-icon>
            </td>
            <td class="text-center align-middle" style="width: 10%">
              {{ task.deadlineDate | date: "dd/MM/yyyy" }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row" style="height: 400px">
    <div class="col col-7">
      <ngx-charts-bar-vertical
      [results]="pieData"
      [animations]="true"
      [scheme]="'air'"
      [xAxis]="true"
      [yAxis]="true"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      [xAxisLabel]="'Project by status'"
    ></ngx-charts-bar-vertical>
    
    </div >
    <div class="col col-5">
      <ngx-charts-advanced-pie-chart
      [results]="taskData"
      [animations]="true"
      [scheme]="'vivid'"
      [xAxis]="true"
      [yAxis]="true"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      [xAxisLabel]="'Project by status'"></ngx-charts-advanced-pie-chart>
    </div>
  </div>
</div>

<!-- <ngx-charts-bar-vertical 
    [view]="[1000,]"
    [results]="saleData"
    [xAxisLabel]="'Products'"
    [legendTitle]="'Product Sale Chart'"
    [yAxisLabel]="'Sale'"
    [legend]="true"
    [showXAxisLabel]="true"
    [showYAxisLabel]="true"
    [xAxis]="true"
    [yAxis]="true"
    [gradient]="true">
</ngx-charts-bar-vertical> -->
